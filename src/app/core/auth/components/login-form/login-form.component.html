<h1>Log In</h1>


<form class="auth-form"
      [formGroup]="loginForm"
      (ngSubmit)="onSubmit()">

  <div>
    <label>
      <span>User name</span>
      <input [formControlName]="LoginFormControl.username"
             type="text"
             required>
    </label>

    @if (isControlInvalid(LoginFormControl.username)) {
      <p>{{ getControlErrorMessage(LoginFormControl.username, loginForm) }}</p>
    }
  </div>

  <div>
    <label>
      <span>Password</span>
      <input [formControlName]="LoginFormControl.password"
             type="password"
             required>
    </label>

    @if (isControlInvalid(LoginFormControl.password)) {
      <p>{{ getControlErrorMessage(LoginFormControl.password, loginForm) }}</p>
    }

  </div>

  @if (authError$ | async; as error) {
    <p class="error">{{ error }}</p>
  }

  <button [disabled]="!loginForm.valid">Log in</button>

</form>


<p>Don't have an account? <a routerLink="/auth/registration">Sign up</a></p>

